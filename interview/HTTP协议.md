### HTTP协议

1. HTTP协议的主要特点

   - 简单快速：每个资源URI是固定的，访问方便
   - 灵活：可在头部设置内容类型，实现不同数据的传输

   - 无连接：每次连接是即时，不保持连接
   - 无状态：不保存连接状态

2. HTTP的报文的组成部分

   - 请求报文：
     - 请求行：HTTP方法，URL，HTTP协议版本
     - 请求头：一组key-value值
     - 空行
     - 请求体：请求数据
   - 响应报文
     - 状态行：版本，状态码
     - 响应头：一组key-value值
     - 空行
     - 响应体：响应正文

3. HTTP方法

   - GET：获取资源
   - POST：传输资源
   - PUT：更新资源
   - DELETE：删除资源
   - HEAD：获取报文首部

4. GET和POST的区别

   - get请求回退是无害的，post会再次提交请求
   - get请求产生的URL可以被浏览器收藏，post不可以
   - get请求会被浏览器主动缓存，post需手动设置
   - get请求的参数会完整保留在浏览器历史记录里，post不可以
   - get请求参数通过URL传递，post放在requestBody中
   - get请求在URL中传递的参数长度有限，超过会被截断，post不限
   - get请求只接受ASCII字符，post不限
   - get请求比post不安全，因为参数直接暴露在URL中，不能用来传递敏感信息

5. HTTP状态码

   - 1XX：指示信息，请求已接收，继续处理
   - 2XX：成功，请求已被成功接收
   - 3XX：重定向，要完成请求需要进一步操作
   - 4XX：客户端错误，请求有语法错误或请求无法实现
   - 5XX：服务器错误，服务器未能实现合法请求
   - 200：OK，客户端请求成功
   - 206：客户端发送一个带有Range头的get请求，服务器返回了它
   - 301：永久重定向，所请求的页面已转移至新地址
   - 302：临时重定向，所请求的页面临时转移至新地址
   - 304 ：请求数据未被修改，可从浏览器缓存中获取
   - 400：请求有语法错误
   - 401：请求未经授权
   - 403：请求页面的访问被禁止
   - 404：请求资源不存在
   - 500：服务器错误
   - 503：服务器过载或宕机

6. HTTP 1.1持久连接（Keep-Alive模式)

   - HTTP协议是“请求-应答”模式，普通模式下，客户端和服务器每次通信都需要新建连接，完成后立即断开
   - HTTP 1.1支持持久连接，允许保持连接，避免后继请求重建连接

7. 管线化

   - 一般情况下，请求和响应是一一对应的，但管线化会将一组请求打包，然后依次响应，类似如下

     请求1-》请求2-》请求3-》响应1-》响应2-》响应3

   - 管线化基于持久连接，仅HTTP1.1支持

   - 仅GET和HEAD请求支持管线化，post有所限制

   - 管线化不会影响响应返回的顺序

   - 初次连接不要启用管线机制，因为对方服务器可能不支持HTTP 1.1协议